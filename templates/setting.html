{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{% static 'assets/images/favicon.png' %}" rel="icon" type="image/png">
    <title>Settings</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'assets/css/icons.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/uikit.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/tailwind.css' %}">

    <style>
        html {
            scroll-behavior: smooth;
        }
    </style>

</head>

<body>


            <div class="container m-auto"> 

                <h1 class="text-2xl leading-none text-gray-900 tracking-tight mt-3"> <a href="{% url 'home' %}" class="text-gray-500">Home</a> / Account Setting </h1>
                <ul class="mt-5 -mr-3 flex-nowrap lg:overflow-hidden overflow-x-scroll uk-tab">
                    <li class="uk-active"><a href="#">General</a></li>
                    <li><a href="#profile">Profile</a></li>
                    <li><a href="#privacy">Privacy</a></li>
                    <li><a href="#notifications">Notification</a></li>
                    <li><a href="#links">Social links</a></li>
                    <li><a href="#security">Security</a></li>
                </ul>

                <div class="grid lg:grid-cols-3 mt-12 gap-8" id="profile">
                    <div>
                        <h3 class="text-xl mb-2"> Profile</h3>
                        <p></p>
                    </div>
                    <div class="bg-white rounded-md lg:shadow-lg shadow col-span-2">
                    <form action="" method="POST" enctype="multipart/form-data" oninput="mysss();" onsubmit="msss();"> {% csrf_token %}
                       <div class="grid grid-cols-2 gap-3 lg:p-6 p-4">
                        
                        <div class="col-span-2">
                            <label for=""> Profile Image</label>
                            <img style="border-radius: 100%; width: 200px; height: 200px;" class="m-auto object-cover" src="{{ profile.profileimage.url }}" />
                            <label for="image" class="w-full flex justify-center">
                                <span type="submit" class="button bg-blue-700 mt-3"> Change Profile Picture </span>
                            </label>
                            <input type="file" name="image" title="image" id="image"  class="shadow-none hidden">
                        </div>
                    
                           <div>
                               <label for=""> First name</label>
                               <input type="text" name="firstn" placeholder="First name.." value="{{ request.user.first_name }}" required  class="shadow-none bg-gray-100">
                           </div>
                           <div>
                               <label for=""> Last name</label>
                               <input type="text" name="lastn" placeholder="Last name.." value="{{ request.user.last_name }}" required  class="shadow-none bg-gray-100">
                            </div>
                            <div class="col-span-2">
                                <label for=""> Username</label>
                                <input type="text" name="usern" placeholder="Username.." value="{{ request.user.username }}" required  class="shadow-none bg-gray-100">
                            </div>
                            <div class="col-span-2">
                                <label for=""> Email</label>
                                <input type="text" name="email" placeholder="Email.." value="{{ request.user.email }}"  class="shadow-none bg-gray-100" required disabled>
                            </div>
                            <div class="col-span-2">
                                <label for="about">Bio</label>  
                                <textarea id="about" name="bio" rows="3"  class="shadow-none bg-gray-100 p-3" placeholder="Tell us about yourself..." required>{{ profile.bio }}</textarea>
                            </div> 
                            <div class="col-span-2">
                                <label for=""> Location</label>
                                {% if profile.location is not None %}
                                <input type="text" name="loc" value="{{ profile.location }}" placeholder="Where do you live..."  class="shadow-none bg-gray-100">
                                {% else %}
                                <input type="text" name="loc" placeholder="Where do you live..."  class="shadow-none bg-gray-100">
                                {% endif %}
                            </div>
                       </div> 
    
                    </div>
                    

                    <div id="privacy">
                        <h3 class="text-xl mb-2 mt-3"> Privacy</h3>
                        <p> </p>
                    </div>
                    <div class="bg-white rounded-md lg:shadow-lg shadow lg:p-6 p-4 col-span-2">

                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4> Private Account ?</h4>
                                <div>  </div>
                            </div>
                            <div class="switches-list -mt-8 is-large">
                                <div class="switch-container">
                                    {% if profile.private is True %}
                                    <label class="switch"><input type="checkbox" name="priv" onchange="mysss();" checked><span class="switch-button"></span> </label>
                                    {% else %}
                                    <label class="switch"><input type="checkbox" name="priv" onchange="mysss();"><span class="switch-button"></span> </label>
                                    {% endif %}
                                    
                                </div>
                            </div>
                        </div>
                        <hr>
                        <div class="flex justify-between items-center">
                            <div>
                                <h4> Allow Commenting?</h4>
                                <div>  </div>
                            </div>
                            <div class="switches-list -mt-8 is-large">
                                <div class="switch-container">
                                    {% if profile.allowcomments is True %}
                                    <label class="switch"><input type="checkbox" name="commenting" onchange="mysss();" checked><span class="switch-button"></span> </label>
                                    {% else %}
                                    <label class="switch"><input type="checkbox" name="commenting" onchange="mysss();"><span class="switch-button"></span> </label>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
    
                    </div>

                    <div id="notifications">
                        <h3 class="text-xl mb-2 mt-3"> Notifications</h3>
                        <p> </p>
                    </div>
                    <div class="bg-white rounded-md lg:shadow-lg shadow lg:p-6 p-4 col-span-2">

                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <div>
                                <h4> Show Notifications ?</h4>
                                <div>  </div>
                            </div>
                            <div class="switches-list -mt-8 is-large">
                                <div class="switch-container">
                                    {% if profile.notificationson is True %}
                                    <label class="switch"><input type="checkbox" name="notifications" onchange="mysss();" checked><span class="switch-button"></span> </label>
                                    {% else %}
                                    <label class="switch"><input type="checkbox" name="notifications" onchange="mysss();"><span class="switch-button"></span> </label>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                    </div>
  
                </div>

                <div id="links">
                    <h3 class="text-xl mb-2 mt-3"> Social Links</h3>
                    <p> </p>
                </div>
                <div class="bg-white rounded-md lg:shadow-lg shadow lg:p-6 p-4 col-span-2">

                <div class="space-y-3">
                    <div class="flex justify-between items-center">
                        <div>
                            <h4> tomgram.com/{{ request.user.username }}</h4>
                            <div>  </div>
                        </div>
                        <div class="is-large">
                            <button type="button" id="sss" onclick="
                            var a = document.getElementById('sss');
                            function mf() {
                                a.innerHTML = 'Copy';
                                a.style = 'background: #be185d;'
                            }
                            a.innerHTML = 'Copied!';
                            a.style = 'background: grey; '
                            setInterval(mf, 5000);
                            " class="button bg-blue-700"> Copy </button>
                        </div>
                    </div>
                    
                </div>

            </div>

            <div id="security">
                <h3 class="text-xl mb-2 mt-3"> Security</h3>
                <p> </p>
            </div>
            <div class="bg-white rounded-md lg:shadow-lg shadow lg:p-6 p-4 col-span-2">

            <div class="space-y-3">
                <div class="flex flex-col items-center space-y-3">
                    
                    <div class="is-large w-full">
                        <button class="p-2 px-4 rounded bg-gray-50 text-red-500 w-full" type="button"> Change Password </button>
                    </div>
                    
                    <div class="is-large w-full">
                        <button class="p-2 px-4 rounded bg-gray-50 text-red-500 w-full" type="button"> <a href="{% url 'logout' %}">Logout </a></button>
                    </div>
                </div>
                
            </div>
        </div>

        <div id="security">
            <h3 class="text-xl mb-2 mt-3"></h3>
            <p> </p>
        </div>
        <div class="rounded-md lg:p-6 p-4 col-span-2">
        <div class="bg-gray-10 pt-0 flex justify-end space-x-3" id="btns">
            <button class="p-2 px-4 rounded bg-gray-50 text-red-500" type="button" onclick="window.location.reload;"><a href=""> Cancel </a></button>
            <button type="submit" class="p-2 px-4 rounded bg-gray-400 text-white" disabled id="btn"> Save </button>
        </div>
    </div>
    
        <br>

    </div>
    </form>
    <script>
        function mysss() {
            var btn = document.getElementById("btn");
            btn.style = 'background: #be185d';
            btn.removeAttribute('disabled')
        }
        function msss() {
            var btn = document.getElementById("btn");
            btn.setAttribute('class', 'p-2 px-4 rounded bg-gray-50 text-red-500');
            btn.setAttribute('disabled','');
        }
    </script>
    

 <!-- Scripts
    ================================================== -->
    <script src="{% static 'assets/js/tippy.all.min.js' %}"></script>  
    <script src="{% static 'assets/js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'assets/js/uikit.js' %}"></script>
    <script src="{% static 'assets/js/simplebar.js' %}"></script>
    <script src="{% static 'assets/js/custom.js' %}"></script>


    <script src="{% static '../../unpkg.com/ionicons%405.2.3/dist/ionicons.js' %}"></script>
</body>

</html>